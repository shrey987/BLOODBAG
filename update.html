<html>
<head>
  <title>Update</title>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<style>
.card{
     box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
     margin-top: 80px;
     margin-right: 150px;
     margin-left: 120px;
     background-color: #FDDFD7;
}
body{
  background-color: #F5F2F2;
}
#image{
  padding-right: 35px;
  padding-top: 5px;
}
</style>
</head>
<body>
  <!--navbar-->
  <nav class="navbar navbar-expand-lg navbar-light bg-danger" role="navigation" id="nav">
    <div class="container-fluid">
    <span class="navbar-brand mb-0 h1">Blood Bags</span>

    <div class="d-flex">
    <div  class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="nav navbar-nav ">
        <li class="nav-item">
          <a class="nav-link" href="index.html"><font color="white">Home</a></font>
        </li>
      </ul>
    </div>
  </div>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
</div>
  </nav>
 <section>
   <div id="image">
   <img src="images/2.png" align="right">
 </div>
  <div class="card  mb-3" style="width: 20rem;">

    <div class="card-body">
      <h5 class="card-header">Enter Data</h5><br>
      <form>
      <p> <label> BLOOD BANK </label> <input type="text" id="name" required></p>
          <label>USER ID </label>  <input type="text" id="USERID" required> <br>
          <label>O+ </label>  <input type="text" id="o+" required> <br>
          <label>B+ </label><input type="text" id="b+" required><br>
          <label>AB+</label><input type="text" id="ab+" required><br>
          <label>O- </label><input type="text" id="o-" required><br>
          <label>B- </label>  <input type="text" id="b-" required><br>
          <label>AB-</label><input type="text" id="ab-" required> <br>
          <label>A- </label> <input type="text" id="a-" required><br>
          <label>A+ </label>  <input type="text" id="a+" required> <br>
            <button type="button" class="btn btn-primary" id="submit" onclick="submitclick()">ADD</button>
    <button type="button" class="btn btn-primary" id="update">update</button>
      </form>
  </div>

  </div>
</section>

 <script src="https://www.gstatic.com/firebasejs/7.12.0/firebase-app.js"></script>


 <script src="https://www.gstatic.com/firebasejs/7.12.0/firebase-analytics.js"></script>
 <script src="https://www.gstatic.com/firebasejs/7.12.0/firebase-database.js"></script>

 <script>

   var firebaseConfig = {
     apiKey: "AIzaSyBkMKx8KlTf0PZ5QBa8aK6XGugZRl4pOz8",
     authDomain: "bloodinfo-b2769.firebaseapp.com",
     databaseURL: "https://bloodinfo-b2769.firebaseio.com",
     projectId: "bloodinfo-b2769",
     storageBucket: "bloodinfo-b2769.appspot.com",
     messagingSenderId: "428703997938",
     appId: "1:428703997938:web:842808c2f29c30066ed56b",
     measurementId: "G-80Y8DBE7V3"
   };

   firebase.initializeApp(firebaseConfig);
   firebase.analytics();
    var userid= document.getElementById("USERID");
    var opositive= document.getElementById("o+");
    var onegative= document.getElementById("o-");
    var bnegative= document.getElementById("b-");
    var bpositive= document.getElementById("b+");
     var abnegative= document.getElementById("ab-");
    var abpositive= document.getElementById("ab+");
    var anegative= document.getElementById("a-");
    var apositive= document.getElementById("a+");
    var bankname= document.getElementById("name");
   var msgg= document.getElementById("name");
   var updatebtn= document.getElementById("update");
       function submitclick() {
               firebase.database().ref('/users/' + msgg.value).set({
                Bank: bankname.value,
                opositive: opositive.value,
                onegative: onegative.value,
                bpositive: bpositive.value,
                bnegative:  bnegative.value,
                abpositive: abpositive.value,
                abnegative: abnegative.value,
                apositive:  apositive.value,
                anegative:  anegative.value
          });
}
  var database=firebase.database();
    updatebtn.addEventListener('click',hello);
  function  hello(){
      const newdata={
        opositive: opositive.value,
        onegative: onegative.value,
        bpositive: bpositive.value,
        bnegative:  bnegative.value,
        abpositive: abpositive.value,
        abnegative: abnegative.value,
        apositive:  apositive.value,
        anegative:  anegative.value,
        Bank:    bankname.value,
      }
      const updates={};
      updates['/users/'+ msgg.value]= newdata;

     database.ref().update(updates);
    }

</script>
</body>
</html>
